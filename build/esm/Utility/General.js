import * as Event from '../Event/index.js';
import Constants from '../Common/Constants.js';
export function documentHeight() {
    return Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight);
}
export function getCSSVariable(variableName, element = document.documentElement) {
    const value = getComputedStyle(element).getPropertyValue(variableName).trim();
    return value;
}
export function getDate(dateString = '') {
    dateString || (dateString = Constants.CURRENT_DATE);
    return dateString ? new Date(dateString) : new Date();
}
export function getQueryParameter(key) {
    if (typeof window === 'undefined' || typeof window.location === 'undefined') {
        return null;
    }
    const urlSearchParams = new URLSearchParams(window.location.search);
    return urlSearchParams.get(key);
}
export function offsetLeft(element) {
    let offset = 0;
    do {
        offset += element.offsetLeft;
        element = element.offsetParent;
    } while (element);
    return offset;
}
export function offsetHeight(element) {
    return element.offsetHeight;
}
export function offsetTop(element) {
    let offset = 0;
    do {
        offset += element.offsetTop;
        element = element.offsetParent;
    } while (element);
    return offset;
}
export function offsetWidth(element) {
    return element.offsetWidth;
}
export const requestAnimationFrame = typeof window !== 'undefined' && window.requestAnimationFrame
    ? window.requestAnimationFrame.bind(window)
    : (callback) => setTimeout(() => callback(Date.now()), 16);
export function setQueryParameter(key, value) {
    if (typeof window === 'undefined' || typeof window.history === 'undefined') {
        return;
    }
    const url = new URL(window.location.href);
    const searchParams = url.searchParams;
    const eventPayload = {
        key,
        value,
    };
    if (value === null) {
        searchParams.delete(key);
        Event.Bus.dispatch('queryParameter:unset', eventPayload);
    }
    else {
        searchParams.set(key, value);
        Event.Bus.dispatch('queryParameter:set', eventPayload);
    }
    const newUrl = `${url.pathname}?${searchParams.toString()}${url.hash}`;
    window.history.replaceState({}, '', newUrl);
    Event.Bus.dispatch('queryParameter', eventPayload);
}
export function setQueryParameters(params) {
    if (typeof window === 'undefined' || typeof window.history === 'undefined') {
        return;
    }
    const url = new URL(window.location.href);
    const searchParams = url.searchParams;
    for (const key in params) {
        if (params.hasOwnProperty(key)) {
            const value = params[key];
            if (value === null) {
                searchParams.delete(key);
                Event.Bus.dispatch('queryParameters:unset', params);
            }
            else {
                searchParams.set(key, value);
                Event.Bus.dispatch('queryParameters:set', params);
            }
        }
    }
    const newUrl = `${url.pathname}?${searchParams.toString()}${url.hash}`;
    window.history.replaceState({}, '', newUrl);
    Event.Bus.dispatch('queryParameters', params);
}
export function sleep(ms) {
    return new Promise((resolve) => setTimeout(resolve, ms));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2VuZXJhbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9VdGlsaXR5L0dlbmVyYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEtBQUssTUFBTSxtQkFBbUIsQ0FBQztBQUMzQyxPQUFPLFNBQVMsTUFBTSx3QkFBd0IsQ0FBQztBQUsvQyxNQUFNLFVBQVUsY0FBYztJQUM3QixPQUFPLElBQUksQ0FBQyxHQUFHLENBQ2QsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQzFCLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUMxQixRQUFRLENBQUMsZUFBZSxDQUFDLFlBQVksRUFDckMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxZQUFZLEVBQ3JDLFFBQVEsQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUNyQyxDQUFDO0FBQ0gsQ0FBQztBQU9ELE1BQU0sVUFBVSxjQUFjLENBQUMsWUFBb0IsRUFBRSxVQUF1QixRQUFRLENBQUMsZUFBZTtJQUNuRyxNQUFNLEtBQUssR0FBRyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM5RSxPQUFPLEtBQUssQ0FBQztBQUNkLENBQUM7QUFLRCxNQUFNLFVBQVUsT0FBTyxDQUFDLGFBQXFCLEVBQUU7SUFDOUMsVUFBVSxJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUVwRCxPQUFPLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7QUFDdkQsQ0FBQztBQVFELE1BQU0sVUFBVSxpQkFBaUIsQ0FBQyxHQUFXO0lBQzVDLElBQUksT0FBTyxNQUFNLEtBQUssV0FBVyxJQUFJLE9BQU8sTUFBTSxDQUFDLFFBQVEsS0FBSyxXQUFXLEVBQUUsQ0FBQztRQUM3RSxPQUFP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