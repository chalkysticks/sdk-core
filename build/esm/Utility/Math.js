import { getEasingMethod } from './Easing';
export const FOOT_METER_RATIO = 3.28084;
export const MPH_METER_RATIO = 0.44704;
export function angle(x1, y1, x2, y2) {
    return Math.atan2(y2 - y1, x2 - x1);
}
export function angleAsDegrees(x1, y1, x2, y2) {
    return (angle(x1, y1, x2, y2) * 180) / Math.PI;
}
export function angleDifference(a, b) {
    return Math.atan2(Math.sin(b - a), Math.cos(b - a));
}
export function angleDifferenceAsDegrees(a, b) {
    return (angleDifference(a, b) * 180) / Math.PI;
}
export function angleFromVector(vector) {
    return Math.atan2(vector.y, vector.x);
}
export function clamp(value, min, max) {
    return Math.min(Math.max(value, min), max);
}
export function clampUnsigned(value, min, max) {
    [min, max] = [Math.min(min, max), Math.max(min, max)];
    return Math.sign(value) * Math.min(Math.abs(value), Math.abs(value) > min ? max : min);
}
export function denormalize(value, min, max, useClamp = false) {
    let output = value * (max - min) + min;
    if (useClamp) {
        output = clamp(output, min, max);
    }
    return output;
}
export function distance(x1, y1, x2, y2) {
    return Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
}
export function dot(x1, y1, x2, y2) {
    return x1 * x2 + y1 * y2;
}
export function feetToMeters(feet) {
    return feet / FOOT_METER_RATIO;
}
export function inverseLerp(a, b, value) {
    return (value - a) / (b - a);
}
export function lerp(a, b, t) {
    return a + (b - a) * t;
}
export function logarithmicZoom(startValue, delta, increment = 0.025) {
    const currentZoomLog = Math.log(startValue);
    const amountLog = Math.log(delta + 1) || 0;
    let newZoom = Math.exp(currentZoomLog + amountLog * increment);
    return newZoom;
}
export function metersToFeet(meters) {
    return meters * FOOT_METER_RATIO;
}
export function minMax(value, min, max) {
    return clamp(value, min, max);
}
export function minMaxUnsigned(value, min, max) {
    return clampUnsigned(value, min, max);
}
export function mphToMs(mph) {
    return mph * MPH_METER_RATIO;
}
export function msToMph(ms) {
    return ms / MPH_METER_RATIO;
}
export function normalize(value, min, max, useClamp = false) {
    let output = (value - min) / (max - min);
    if (useClamp) {
        output = clamp(output, min, max);
    }
    return output;
}
export function remap(value, a, b, c, d) {
    return c + (d - c) * inverseLerp(a, b, value);
}
export function randomRange(min, max) {
    return lerp(min, max, Math.random());
}
export function randomInt(min, max) {
    return Math.floor(randomRange(min, max + 1));
}
export function randomSign() {
    return Math.random() < 0.5 ? -1 : 1;
}
export function rotate(x, y, angle) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    return [x * c - y * s, x * s + y * c];
}
export function rotateDeg(x, y, angle) {
    return rotate(x, y, (angle * Math.PI) / 180);
}
export function round(value, decimals = 2) {
    return Number(value.toFixed(decimals));
}
export function roundToNearest(value, nearest) {
    return Math.round(value / nearest) * nearest;
}
export function roundToNearestFraction(value, fraction) {
    return Math.round(value * fraction) / fraction;
}
export function roundToDecimal(value, decimals) {
    return Math.round(value * 10 ** decimals) / 10 ** decimals;
}
export function smoothstep(min, max, value) {
    const x = clamp((value - min) / (max - min), 0, 1);
    return x * x * (3 - 2 * x);
}
export function smootherstep(min, max, value) {
    const x = clamp((value - min) / (max - min), 0, 1);
    return x * x * x * (x * (x * 6 - 15) + 10);
}
export function toRadians(degrees) {
    return (degrees * Math.PI) / 180;
}
export function toDegrees(radians) {
    return (radians * 180) / Math.PI;
}
export function transformRatio(ratio, by = 4, easeInFunction = 'linear', easeOutFunction = '') {
    if (!easeOutFunction) {
        easeOutFunction = easeInFunction;
    }
    const easeInMethod = getEasingMethod(easeInFunction);
    const easeOutMethod = getEasingMethod(easeOutFunction);
    if (ratio <= 1 / by) {
        return easeInMethod(ratio / (1 / by));
    }
    else if (ratio <= 1 - 1 / by) {
        return 1;
    }
    else {
        return easeOutMethod((1 - ratio) / (1 / by));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWF0aC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9VdGlsaXR5L01hdGgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBZSxFQUFFLGVBQWUsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQVduRCxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxPQUFPLENBQUM7QUFNeEMsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLE9BQU8sQ0FBQztBQVN2QyxNQUFNLFVBQVUsS0FBSyxDQUFDLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVU7SUFDbkUsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQ3JDLENBQUM7QUFTRCxNQUFNLFVBQVUsY0FBYyxDQUFDLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVU7SUFDNUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ2hELENBQUM7QUFPRCxNQUFNLFVBQVUsZUFBZSxDQUFDLENBQVMsRUFBRSxDQUFTO0lBQ25ELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3JELENBQUM7QUFPRCxNQUFNLFVBQVUsd0JBQXdCLENBQUMsQ0FBUyxFQUFFLENBQVM7SUFDNUQsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUNoRCxDQUFDO0FBTUQsTUFBTSxVQUFVLGVBQWUsQ0FB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