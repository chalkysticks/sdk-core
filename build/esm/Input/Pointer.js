import { Event, Utility } from '../index.js';
export class Pointer extends Event.Dispatcher {
    static start(eventType = 'pointer', autoTouchEvents = false) {
        if (!this.instance) {
            this.instance = new Pointer(eventType, autoTouchEvents);
        }
    }
    constructor(eventType = 'pointer', autoTouchEvents = false, target = document) {
        super();
        this.angle = 0;
        this.changed = false;
        this.distance = 0;
        this.down = false;
        this.dx = 0;
        this.dy = 0;
        this.friction = 0.95;
        this.inertia = 0;
        this.lastX = 0;
        this.lastY = 0;
        this.moved = false;
        this.rx = 0;
        this.rx2 = 0;
        this.ry = 0;
        this.ry2 = 0;
        this.rox = 0;
        this.roy = 0;
        this.rox2 = 0;
        this.roy2 = 0;
        this.ox = 0;
        this.oy = 0;
        this.time = Date.now();
        this.timeDown = 0;
        this.timeDownDifference = 0;
        this.timeDifference = 0;
        this.vx = 0;
        this.vy = 0;
        this.x = 0;
        this.x2 = 0;
        this.y = 0;
        this.y2 = 0;
        this.wheel = false;
        this.wheelDelta = 0;
        this.moveThreshold = 5;
        this.cid = Math.random().toString(36).substr(2, 9);
        this.eventType = '';
        this.holdTimeout = null;
        this.lastTapTime = 0;
        this.tapCount = 0;
        this.tapTimeout = null;
        this.twoFingerTapCount = 0;
        this.vxHistory = [];
        this.vyHistory = [];
        this.Handle_OnInterval = this.Handle_OnInterval.bind(this);
        this.Handle_OnPointerDown = this.Handle_OnPointerDown.bind(this);
        this.Handle_OnPointerMove = this.Handle_OnPointerMove.bind(this);
        this.Handle_OnPointerUp = this.Handle_OnPointerUp.bind(this);
        this.Handle_OnWheel = this.Handle_OnWheel.bind(this);
        this.autoTouchEvents = autoTouchEvents;
        this.eventType = eventType;
        this.target = target;
        console.log('target', this.target);
        this.attachEvents();
    }
    attachEvents() {
        if (typeof window !== 'undefined' && 'ontouchstart' in window && this.autoTouchEvents) {
            this.target.addEventListener('touchstart', this.Handle_OnPointerDown);
            this.target.addEventListener('touchmove', this.Handle_OnPointerMove);
            this.target.addEventListener('touchend', this.Handle_OnPointerUp);
        }
        else {
            this.target.addEventListener(this.downEvent, this.Handle_OnPointerDown);
            this.target.addEventListener(this.moveEvent, this.Handle_OnPointerMove);
            this.target.addEventListener(this.upEvent, this.Handle_OnPointerUp);
        }
        this.target.addEventListener('wheel', this.Handle_OnWheel, {
            passive: false,
        });
        Utility.Interval.add(this.Handle_OnInterval, 1000 / 60, `${this.cid}-pointer-velocity`);
    }
    detachEvents() {
        if (typeof window !== 'undefined' && 'ontouchstart' in window && this.autoTouchEvents) {
            this.target.removeEventListener('touchstart', this.Handle_OnPointerDown);
            this.target.removeEventListener('touchmove', this.Handle_OnPointerMove);
            this.target.removeEventListener('touchend', this.Handle_OnPointerUp);
        }
        else {
            this.target.removeEventListener(this.downEvent, this.Handle_OnPointerDown);
            this.target.removeEventListener(this.moveEvent, this.Handle_OnPointerMove);
            this.target.removeEventListener(this.upEvent, this.Handle_OnPointerUp);
        }
        this.target.removeEventListener('wheel', this.Handle_OnWheel);
        Utility.Interval.remove(`${this.cid}-pointer-velocity`);
    }
    capturePinchZoom(capture) {
        document.addEventListener('wheel', (e) => {
            if (capture) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
            }
            this.Handle_OnWheel(e);
        }, {
            capture: capture,
            passive: false,
        });
        document.body.style.touchAction = 'pan-x pan-y';
        document.body.style.userSelect = 'none';
    }
    resetRelative(x = 0, y = 0) {
        this.rox = this.rox2 = this.rx = this.rx2 = x;
        this.roy = this.roy2 = this.ry = this.ry2 = y;
        return this;
    }
    get downEvent() {
        let output = '';
        switch (this.eventType) {
            case 'pointer':
                output = 'pointerdown';
                break;
            case 'touch':
                output = 'touchstart';
                break;
            default:
                output = 'mousedown';
                break;
        }
        return output;
    }
    get moveEvent() {
        let output = '';
        switch (this.eventType) {
            case 'pointer':
                output = 'pointermove';
                break;
            case 'touch':
                output = 'touchmove';
                break;
            default:
                output = 'mousemove';
                break;
        }
        return output;
    }
    get upEvent() {
        let output = '';
        switch (this.eventType) {
            case 'pointer':
                output = 'pointerup';
                break;
            case 'touch':
                output = 'touchend';
                break;
            default:
                output = 'mouseup';
                break;
        }
        return output;
    }
    getDistanceBetweenTouches(e) {
        if (e.touches.length < 2)
            return 0;
        const touch1 = e.touches[0];
        const touch2 = e.touches[1];
        const dx = touch1.pageX - touch2.pageX;
        const dy = touch1.pageY - touch2.pageY;
        return Math.sqrt(dx * dx + dy * dy);
    }
    async Handle_OnInterval() {
        const ovx = this.vx;
        const ovy = this.vy;
        this.vx *= this.friction;
        this.vy *= this.friction;
        if (Math.abs(this.vx) < 0.025) {
            this.vx = 0;
        }
        if (Math.abs(this.vy) < 0.025) {
            this.vy = 0;
        }
        if (!isFinite(this.vx)) {
            this.vx = 0;
        }
        if (!isFinite(this.vy)) {
            this.vy = 0;
        }
        if (!this.down) {
            this.x2 += this.vx * 5;
            this.y2 += this.vy * 5;
            this.rx2 += this.vx * 5;
            this.ry2 += this.vy * 5;
        }
        this.changed = this.vx !== ovx || this.vy !== ovy;
    }
    async Handle_OnPointerDown(e) {
        const isTwoFingerTap = 'touches' in e && e.touches.length === 2;
        const position = {
            x: this.x,
            y: this.y,
        };
        this.down = true;
        this.moved = false;
        this.timeDown = Date.now();
        this.ox = this.x = 'touches' in e ? e.touches[0].clientX : e.clientX;
        this.oy = this.y = 'touches' in e ? e.touches[0].clientY : e.clientY;
        if (this.target !== document) {
            const rect = this.target.getBoundingClientRect();
            this.ox -= rect.left;
            this.oy -= rect.top;
        }
        this.rox = this.rx;
        this.roy = this.ry;
        this.rox2 = this.rx2;
        this.roy2 = this.ry2;
        this.dispatch('down', {
            x: this.x,
            y: this.y,
        });
        if (isTwoFingerTap) {
            this.twoFingerTapCount++;
            if (this.twoFingerTapCount === 1) {
                setTimeout(() => {
                    if (this.twoFingerTapCount === 1 && !this.down) {
                        this.dispatch('twofingertap', position);
                    }
                    else if (this.twoFingerTapCount === 2) {
                        this.dispatch('twofingerdoubletap', position);
                    }
                    this.twoFingerTapCount = 0;
                }, 300);
            }
        }
        else {
            this.tapCount++;
            if (this.timeDown - this.lastTapTime < 300) {
                clearTimeout(this.tapTimeout);
                this.dispatch('doubletap', position);
                this.tapCount = 0;
            }
            else {
                this.tapTimeout = setTimeout(() => {
                    if (this.tapCount === 1 && !this.down) {
                        this.dispatch('tap', position);
                    }
                    this.tapCount = 0;
                }, 300);
            }
            this.lastTapTime = this.timeDown;
            this.holdTimeout = setTimeout(() => {
                if (this.down) {
                    this.dispatch('hold', position);
                }
            }, 500);
        }
    }
    async Handle_OnPointerMove(e) {
        if (this.moved && this.holdTimeout) {
            clearTimeout(this.holdTimeout);
        }
        this.lastX = this.x;
        this.lastY = this.y;
        this.x = 'touches' in e ? e.touches[0].clientX : e.clientX;
        this.y = 'touches' in e ? e.touches[0].clientY : e.clientY;
        if (this.target !== document) {
            const rect = this.target.getBoundingClientRect();
            this.x -= rect.left;
            this.y -= rect.top;
        }
        this.currentTarget = e.currentTarget;
        this.activeTarget = e.target;
        this.timeDifference = Date.now() - this.time;
        this.time = Date.now();
        this.dispatch('move', {
            x: this.x,
            y: this.y,
        });
        this.vxHistory.push((this.x - this.lastX) / this.timeDifference);
        this.vyHistory.push((this.y - this.lastY) / this.timeDifference);
        if (this.vxHistory.length > 5)
            this.vxHistory.shift();
        if (this.vyHistory.length > 5)
            this.vyHistory.shift();
        if (this.down) {
            this.dx = this.x - this.ox;
            this.dy = this.y - this.oy;
            this.rx = this.rox + this.dx;
            this.ry = this.roy + this.dy;
            this.rx2 = this.rox2 + this.dx;
            this.ry2 = this.roy2 + this.dy;
            this.angle = Math.atan2(this.dy, this.dx) * (180 / Math.PI);
            this.distance = Math.sqrt(Math.pow(this.dx, 2) + Math.pow(this.dy, 2));
            this.moved = Math.abs(this.distance) > this.moveThreshold;
            this.x2 = this.x;
            this.y2 = this.y;
            this.timeDownDifference = this.time - this.timeDown;
            this.inertia = Math.sqrt(Math.pow(this.dx, 2) + Math.pow(this.dy, 2));
            this.vx = this.vxHistory.reduce((a, b) => a + b) / (this.vxHistory.length || 1);
            this.vy = this.vyHistory.reduce((a, b) => a + b) / (this.vyHistory.length || 1);
            this.dispatch('drag', {
                angle: this.angle,
                changed: this.changed,
                distance: this.distance,
                dx: this.dx,
                dy: this.dy,
                inertia: this.inertia,
                moved: this.moved,
                ox: this.ox,
                oy: this.oy,
                rx: this.rx,
                ry: this.ry,
                rx2: this.rx2,
                ry2: this.ry2,
                time: this.time,
                timeDown: this.timeDown,
                timeDownDifference: this.timeDownDifference,
                timeDifference: this.timeDifference,
                vx: this.vx,
                vy: this.vy,
                x: this.x,
                y: this.y,
            });
        }
    }
    async Handle_OnPointerUp(e) {
        this.down = false;
        this.dispatch('up', {
            x: this.x,
            y: this.y,
        });
        if (this.moved && this.holdTimeout) {
            clearTimeout(this.holdTimeout);
        }
    }
    async Handle_OnWheel(e) {
        const isTrackpad = ~~(Math.abs(e.wheelDeltaY || 1) / Math.abs(e.deltaY || 1)) > 1;
        const deltaY = e.deltaY;
        const direction = deltaY > 0 ? 'out' : 'in';
        Utility.Debounce.exec(this.cid, () => {
            this.wheel = false;
            this.wheelDelta = 0;
        }, 100, true);
        if (deltaY) {
            this.wheel = true;
        }
        this.wheelDelta = deltaY;
        this.dispatch('zoom', {
            delta: deltaY * -1,
            direction: direction,
            isTrackpad: isTrackpad,
        });
        this.dispatch('zoom:' + direction, {
            delta: deltaY * -1,
            isTrackpad: isTrackpad,
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUG9pbnRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9JbnB1dC9Qb2ludGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBOEM3QyxNQUFNLE9BQU8sT0FBUSxTQUFRLEtBQUssQ0FBQyxVQUFVO0lBY3JDLE1BQU0sQ0FBQyxLQUFLLENBQUMsWUFBb0IsU0FBUyxFQUFFLGtCQUEyQixLQUFLO1FBQ2xGLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDcEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxTQUFTLEVBQUUsZUFBZSxDQUFDLENBQUM7UUFDekQsQ0FBQztJQUNGLENBQUM7SUE0U0QsWUFBWSxZQUFvQixTQUFTLEVBQUUsa0JBQTJCLEtBQUssRUFBRSxTQUFpQyxRQUFRO1FBQ3JILEtBQUssRUFBRSxDQUFDO1FBblJGLFVBQUssR0FBVyxDQUFDLENBQUM7UUFPbEIsWUFBTyxHQUFZLEtBQUssQ0FBQztRQU96QixhQUFRLEdBQVcsQ0FBQyxDQUFDO1FBT3JCLFNBQUksR0FBWSxLQUFLLENBQUM7UUFPdEIsT0FBRSxHQUFXLENBQUMsQ0FBQztRQU9mLE9BQUUsR0FBVyxDQUFDLENBQUM7UUFPZixhQUFRLEdBQVcsSUFBSSxDQUFDO1FBT3hCLFlBQU8sR0FBVyxDQUFDLENBQUM7UUFPcEIsVUFBSyxHQUFXLENBQUMsQ0FBQztRQU9sQixVQUFLLEdBQVcsQ0FBQyxDQUFDO1FBT2xCLFVBQUssR0FBWSxLQUFLLENBQUM7UUFPdkIsT0FBRSxHQUFXLENBQUMsQ0FBQztRQU9mLFFBQUcsR0FBVyxDQUFDLENBQUM7UUFPaEIsT0FBRSxHQUFXLENBQUMsQ0FBQztRQU9mLFFBQUcsR0FBVyxDQUFDLENBQUM7UUFPaEIsUUFBRyxHQUFXLENBQUMsQ0FBQztRQUNoQixRQUFHLEdBQVcsQ0FBQyxD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Q0FBQztRQUNwRCxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxNQUFxQixDQUFDO1FBRzVDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDN0MsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFHdkIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUU7WUFDckIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ1QsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ1QsQ0FBQyxDQUFDO1FBR0gsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFHakUsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN0RCxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUM7WUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBR3RELElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2YsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDN0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDN0IsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUM1RCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztZQUMxRCxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDakIsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7WUFHcEQsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUd0RSxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDaEYsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBR2hGLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFO2dCQUNyQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7Z0JBQ2pCLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztnQkFDckIsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO2dCQUN2QixFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUU7Z0JBQ1gsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFO2dCQUNYLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztnQkFDckIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO2dCQUNqQixFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUU7Z0JBQ1gsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFO2dCQUNYLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtnQkFDWCxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUU7Z0JBQ1gsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO2dCQUNiLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRztnQkFDYixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7Z0JBQ2YsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO2dCQUN2QixrQkFBa0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCO2dCQUMzQyxjQUFjLEVBQUUsSUFBSSxDQUFDLGNBQWM7Z0JBQ25DLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtnQkFDWCxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUU7Z0JBQ1gsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUNULENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQzthQUNULENBQUMsQ0FBQztRQUNKLENBQUM7SUFDRixDQUFDO0lBTVMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQXlDO1FBQzNFLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1FBR2xCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFO1lBQ25CLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUNULENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNULENBQUMsQ0FBQztRQUdILElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDcEMsWUFBWSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNoQyxDQUFDO0lBQ0YsQ0FBQztJQU1TLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBYTtRQUUzQyxNQUFNLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxXQUFXLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2xGLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDeEIsTUFBTSxTQUFTLEdBQUcsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFFNUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQ3BCLElBQUksQ0FBQyxHQUFHLEVBQ1IsR0FBRyxFQUFFO1lBQ0osSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDbkIsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFDckIsQ0FBQyxFQUNELEdBQUcsRUFDSCxJQUFJLENBQ0osQ0FBQztRQUVGLElBQUksTUFBTSxFQUFFLENBQUM7WUFDWixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNuQixDQUFDO1FBRUQsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUM7UUFFekIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUU7WUFDckIsS0FBSyxFQUFFLE1BQU0sR0FBRyxDQUFDLENBQUM7WUFDbEIsU0FBUyxFQUFFLFNBQVM7WUFDcEIsVUFBVSxFQUFFLFVBQVU7U0FDdEIsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsU0FBUyxFQUFFO1lBQ2xDLEtBQUssRUFBRSxNQUFNLEdBQUcsQ0FBQyxDQUFDO1lBQ2xCLFVBQVUsRUFBRSxVQUFVO1NBQ3RCLENBQUMsQ0FBQztJQUNKLENBQUM7Q0FHRCJ9