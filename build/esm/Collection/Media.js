import * as Model from '../Model/index.js';
import * as Enum from '../Enum/index.js';
import { Base } from './Base.js';
export class Media extends Base {
    constructor() {
        super(...arguments);
        this.endpoint = 'media';
        this.model = new Model.Media();
    }
    get avatar() {
        return this.findWhere({
            subgroup: Enum.MediaSubgroup.Avatar,
        });
    }
    get images() {
        return this.models.filter((media) => media.getType() === Enum.MediaType.Image);
    }
    get primary() {
        return this.models.at(0);
    }
    get videos() {
        return this.models.filter((media) => media.getType() === Enum.MediaType.Video);
    }
    get isUserEndpoint() {
        return !!this.parent?.endpoint.toLowerCase().includes('user');
    }
    get isVenueEndpoint() {
        return !!this.parent?.endpoint.toLowerCase().includes('venue');
    }
    getEndpoint() {
        if (this.isUsingModifiedEndpoint() === false && (this.isUserEndpoint || this.isVenueEndpoint)) {
            return `${this.parent?.getEndpoint()}/${this.parent?.id}/media`;
        }
        return this.endpoint;
    }
    exterior() {
        return this.subgroup(Enum.MediaSubgroup.Exterior);
    }
    interior() {
        return this.subgroup(Enum.MediaSubgroup.Interior);
    }
    person() {
        return this.subgroup(Enum.MediaSubgroup.Person);
    }
    random() {
        const number = ~~(Math.random() * 100);
        this.setQueryParam('seed', number.toString());
        return this;
    }
    table() {
        return this.subgroup(Enum.MediaSubgroup.Table);
    }
    subgroup(subgroup) {
        this.setQueryParam('subgroup', subgroup);
        return this;
    }
    type(mediaType) {
        this.setQueryParam('type', mediaType);
        return this;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVkaWEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvQ29sbGVjdGlvbi9NZWRpYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssS0FBSyxNQUFNLG1CQUFtQixDQUFDO0FBQzNDLE9BQU8sS0FBSyxJQUFJLE1BQU0sa0JBQWtCLENBQUM7QUFDekMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFdBQVcsQ0FBQztBQU9qQyxNQUFNLE9BQU8sS0FBTSxTQUFRLElBQWlCO0lBQTVDOztRQW1EUSxhQUFRLEdBQVcsT0FBTyxDQUFDO1FBTzNCLFVBQUssR0FBZ0IsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7SUFpRi9DLENBQUM7SUF2SUEsSUFBVyxNQUFNO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUNyQixRQUFRLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNO1NBQ25DLENBQUMsQ0FBQztJQUNKLENBQUM7SUFLRCxJQUFXLE1BQU07UUFDaEIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEYsQ0FBQztJQUtELElBQVcsT0FBTztRQUNqQixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFLRCxJQUFXLE1BQU07UUFDaEIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEYsQ0FBQztJQUtELElBQVksY0FBYztRQUN6QixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDL0QsQ0FBQztJQUtELElBQVksZUFBZTtRQUMxQixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQW9CTSxXQUFXO1FBQ2pCLElBQUksSUFBSSxDQUFDLHVCQUF1QixFQUFFLEtBQUssS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQztZQUMvRixPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUUsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsUUFBUSxDQUFDO1FBQ2pFLENBQUM7UUFFRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdEIsQ0FBQztJQVFNLFFBQVE7UUFDZCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBS00sUUFBUTtRQUNkLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFLTSxNQUFNO1FBQ1osT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakQsQ0FBQztJQU9NLE1BQU07UUFDWixNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFFOUMsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBS00sS0FBSztRQUNYLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFRTSxRQUFRLENBQUMsUUFBNEI7UUFDM0MsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFFekMsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBUU0sSUFBSSxDQUFDLFNBQXlCO1FBQ3BDLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBRXRDLE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztDQUdEIn0=