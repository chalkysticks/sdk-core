<!DOCTYPE html>
<html>
	<head>
		<title>ChalkySticks Core SDK Example</title>

		<link rel="icon" href="https://static.chalkysticks.com/favicon.png" />

		<style>
			body {
				background: #11110b;
				color: #fffff1;
			}

			.shape {
				background: red;
				height: 300px;
				left: 50%;
				position: absolute;
				top: 50%;
				transform: translate(-50%, -50%);
				width: 500px;
			}
		</style>
	</head>
	<body>
		<main>
			<header>
				<h1>ChalkySticks API</h1>
			</header>

			<section>
				<p>Media</p>
			</section>
		</main>

		<!-- Script -->
		<script>
			window.env = {
				app: {
					api_url: 'http://localhost:8000/v3',
					// api_url: 'https://api.chalkysticks.com/v1',
				},
			};
		</script>

		<script type="module">
			import * as ChalkySticksCore from '../build/web/chalkysticks-core.js';

			const userModel = new ChalkySticksCore.Model.User({
				id: 2,
			});

			// userModel.endpoint = 'venues';

			await userModel.fetch();

			userModel.plays8Ball = true;
			// userModel.playsSnooker = true;
			// userModel.playsPool = true;

			console.log('User Model', userModel);
			console.log('Media Collection', userModel.media);
			console.log('Media Model', userModel.media.at(0));
			console.log('----------');
			console.log('Media Collection', userModel.media.getEndpoint());
			console.log('    ', userModel.media.isUsingModifiedEndpoint());
			console.log('    ', userModel.media.referenceForModifiedEndpoint);
			console.log('    ', userModel.media.b.getUrl());
			console.log('Media Model', userModel.media.at(0).getEndpoint());
			console.log('    ', userModel.media.at(0).isUsingModifiedEndpoint());
			console.log('    ', userModel.media.at(0).b.getUrl());

			// setTimeout(() => {
			// 	userModel.media.pop();
			// 	console.log('userModel', userModel.media);
			// }, 1000);
		</script>
	</body>
</html>
